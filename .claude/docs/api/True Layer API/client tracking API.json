{"openapi":"3.0.0","info":{"version":"1.0.0","title":"Client Tracking API","description":"The client tracking server\n"},"servers":[{"url":"https://client-tracking.truelayer.com"},{"url":"https://client-tracking.truelayer-sandbox.com"}],"paths":{"/v1/tracked-events":{"get":{"tags":["Tracked Events"],"summary":"Get tracked events from a specific authorization flow.","description":"Get all tracked events that happened in a specific authorization flow/session associated with a `tracking_id`. The events are stored for a period of 60 days.","operationId":"GetTrackedEvents","security":[{"bearer_auth":[]}],"parameters":[{"in":"query","name":"tracking_id","schema":{"type":"string"},"required":true,"description":"The `tracking_id` used to track the authorization flow events."}],"responses":{"200":{"description":"Successful response returns the list of tracked events in the `results` field.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackedEventResponse"},"examples":{"reauthUriExample":{"$ref":"#/components/examples/TrackedEventResponse200"}}}}},"400":{"$ref":"#/components/responses/400"},"401":{"$ref":"#/components/responses/401"},"404":{"$ref":"#/components/responses/404"},"500":{"$ref":"#/components/responses/500"}}}}},"components":{"securitySchemes":{"bearer_auth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"TrackedEventResponse":{"type":"object","additionalProperties":false,"required":["name","time"],"properties":{"name":{"type":"string","description":"Name of the specific event.","enum":["dialog_started","provider_selected","consent_granted","provider_auth_started","provider_authorized","code_exchanged"]},"time":{"type":"string","description":"Specific time when the event was recorded."},"flow_id":{"type":"string","description":"Identifier to indicate which authorization flow/session this event was tracked."},"credentials_id":{"type":"string","description":"Identifier of the credentials."},"consent_id":{"type":"string","description":"Identifier of the user consent."},"reauth":{"type":"boolean","description":"Indicates this event is part of a reauth. Authorization flow started using the `/reauth` endpoint."},"provider_id":{"type":"string","description":"Identifier of the selected provider."}}},"Error":{"type":"object","required":["error"],"properties":{"error":{"type":"string","description":"Machine-readable error category"},"error_description":{"type":"string","description":"Human-readable explanation of the error"},"error_details":{"type":"object","description":"Arbitrary key value pairs to provide more context for certain errors","properties":{"reason":{"type":"string","description":"Additional human-readable explanation as to the cause of the error"}}}}}},"examples":{"TrackedEventResponse200":{"summary":"Auth Journey Events","value":{"results":[{"name":"dialog_started","time":"2021-11-04T10:23:44.8114799Z","flow_id":"auth-KqGydV7WXVYYD1twsNJ0oFmv26_P8pD9bFswErY-cu4","reauth":false},{"name":"provider_selected","time":"2021-11-04T10:23:56.2557627Z","flow_id":"auth-KqGydV7WXVYYD1twsNJ0oFmv26_P8pD9bFswErY-cu4","reauth":false,"provider_id":"ob-monzo"},{"name":"provider_auth_started","time":"2021-11-04T10:23:56.8566554Z","flow_id":"auth-KqGydV7WXVYYD1twsNJ0oFmv26_P8pD9bFswErY-cu4","reauth":false,"provider_id":"ob-monzo"},{"name":"consent_granted","time":"2021-11-04T10:23:58.496428Z","flow_id":"auth-KqGydV7WXVYYD1twsNJ0oFmv26_P8pD9bFswErY-cu4","reauth":false,"provider_id":"ob-monzo"},{"name":"provider_authorized","time":"2021-11-04T10:24:23.2101347Z","flow_id":"auth-KqGydV7WXVYYD1twsNJ0oFmv26_P8pD9bFswErY-cu4","credentials_id":"a+lX2fHP/as6a5wICaIzVCE5iJJzprlprwtXsu9Rcgo=","consent_id":"0a9dd6b4-206a-4fe1-8add-6fd952ccdd28","reauth":false,"provider_id":"ob-monzo"}]}},"BadRequest400Response":{"summary":"Bad Request","value":"tracking_id query parameter is required"},"Unauthorized401Response":{"summary":"Unauthorized request","value":null},"NotFound404Response":{"summary":"Not Found","value":null},"InternalServerError500Response":{"summary":"Internal Error Server","value":null}},"responses":{"400":{"description":"Bad Request","content":{"text/plain":{"examples":{"400Example":{"$ref":"#/components/examples/BadRequest400Response"}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"examples":{"401Example":{"$ref":"#/components/examples/Unauthorized401Response"}}}}},"404":{"description":"Not Found","content":{"application/json":{"examples":{"404Example":{"$ref":"#/components/examples/NotFound404Response"}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"},"examples":{"500Example":{"$ref":"#/components/examples/InternalServerError500Response"}}}}}}},"x-readme":{"explorer-enabled":false,"proxy-enabled":true}}
